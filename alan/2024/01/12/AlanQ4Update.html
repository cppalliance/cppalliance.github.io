<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Owning Handlebars: Custom Templates for Boost.URL | The C++ Alliance</title>
<link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">
<!-- Bootstrap core CSS -->
<link href="/css/style.css" rel="stylesheet">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=1">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=1">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=1">
<link rel="manifest" href="/site.webmanifest?v=1">
<link rel="mask-icon" href="/safari-pinned-tab.svg?v=1" color="#a91c20">
<link rel="shortcut icon" href="/favicon.ico?v=1">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="theme-color" content="#ffffff">
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Owning Handlebars: Custom Templates for Boost.URL | The C++ Alliance</title>
<meta name="generator" content="Jekyll v3.8.7" />
<meta property="og:title" content="Owning Handlebars: Custom Templates for Boost.URL" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Summary MrDocs Handlebars Boost Libraries Boost Release Tools Boost Website C++ Github Actions MrDocs Over the last quarter, we continued to work intensely on MrDocs, a documentation generator for C++ projects. I’ve been overseeing and reviewing all the work done by the other contributors in the project. Besides the work done by Krystian, Fernando also joined the project as a contributor. We’ve been working on making the project at least as competitive as Doxygen + Docca, so we can start using it in a subset of Boost libraries. In this process, we have also been improving usability and documentation, considering feedback we received. In particular, work in Q4 included: Improvements to the documentation, both in javadocs and exposition Reducing technical debt, including extending APIs and problems with handlebars templates Updating CI workflows in coordination with the C++ Github Actions project Usability improvements, including tools relative to installed executable and many new features for templates Fixes and improvements to installation procedure Features such as symbols with links to repositories and many new sections in templates Auxiliary utilities, such as a complete implementation of std::expected for the project Generating binaries for the new LLVM version and updating the documentation Improvements to build scripts with CMake presets and vcpkg manifest files In parallel, Boost.URL has integrated MrDocs, and is temporarily generating the documentation with both Doxygen+Docca and Antora+MrDocs. The documentation includes an extension to collect reference pages generated by MrDocs and include them in the Antora documentation. A preview of the documentation generated by MrDocs is available at https://792.urlantora.prtest2.cppalliance.org/site/url/index.html. In general, I’ve been responsible for: setting up and maintaining CI for the project; MrDocs and LLVM release binaries; build scripts; setting up and integrating dependencies; setting up and deploying the Antora toolchains and documentation to the project website; working on supporting libraries; and supervising and reviewing the work done by other contributors (Krystian and Fernando); fixing bugs. Handlebars MrDocs includes a support library that reimplements the Handlebars template engine in C++. This module is used to generate documentation from templates. This continued to be the MrDocs support library in which I have been investing most of my time. MrDocs also includes a support library called “DOM” that provides a C++ interface to type-erased property trees, such as JSON and Javascript Objects. This module is used by MrDocs to create opaque representations of property trees that can be used by the Handlebars engine and other library functions. Such representations can come from a variety of sources, including JSON files, Javascript objects, and internal C++ objects with information parsed by MrDocs. In Q4, a number of improvements relevant to MrDocs were made to the Handlebars and DOM libraries. The main feature is the addition of complete bindings for Javascript objects, arrays, and functions. The C++/JavaScript bindings work both ways, so that C++ objects can be used in Javascript and Javascript objects can be used in C++. Unit tests for the DOM were also included to complement the Handlebars unit tests. These changes enabled the original implementation of handlebars.js to be completely removed from the project. Boost Libraries As in other quarters, the Boost Library in which I have been investing most of my time is Boost.URL. The library is in maintenance mode since our focus shifted to MrDocs, but there is a constant demand for work fixing bugs and improving the documentation. In Q4, Boost.URL has integrated MrDocs, and is temporarily generating the documentation with both Doxygen+Docca and Antora+MrDocs: All the content in the QuickBook documentation has been rewritten in asciidoc format. Alternatives have been developed to replace special QuickBook features, such as snippets. The Boost.URL repository now includes an extension to automatically find or download MrDocs and use it to collect reference pages generated by MrDocs. The reference pages are aggregates as logical files in the Antora system, which includes them in the Antora documentation. A preview of the documentation generated by MrDocs is available at https://792.urlantora.prtest2.cppalliance.org/site/url/index.html. Besides the integration with MrDocs, work in Q4 included: Improvements, simplifications, and a number of extensions to CI Fixed previous design choices that were incompatible with the super-project Fixes to build scripts to support for more compilers Extended integration tests to cover all cases described by the super-project CMake scripts Fixes to algorithms, such as the parse_query and format functions GDB pretty printers are now provided Many improvements had to be coordinated with the C++ Github Actions project, which had new features implemented for these use cases. In general, I’ve been responsible for: upgrading CI, mostly coordinating with the C++ Github Actions; maintaining, simplifying, and updating build scripts; integrating more spec tests, such as the Ada tests included more recently; including more examples, such as the more recent sanitize-URL example; fixing documentation content that is out of date; and fixing bugs. Besides Boost.URL, as usual, I’ve been overseeing and fixing smaller issues with other boost libraries. In Q4, only some small work in Boost.StaticString was necessary. Boost Release Tools Over the last quarter, I’ve been working on the integration of toolchains I developed into the Boost Release Tools to add support for features desired for the new website. In Q3, I previously included Antora support in the release tools and this has already been deployed in the official Boost release 1.84.0. In Q4, I opened a pull request to include support for archive variants in the release tools. This pull request is currently under review and will be considered for inclusion in a period between Boost releases when priority moves from the Boost website. Boost Website Among the many support projects for the new Boost website, I’ve been helping the most on cppalliance/site-docs, which includes the Boost website documentation as an Antora project. Its components represent the “User Guide”, “Contributor Guide”, and “Formal Review” sections of the website. Since the inception of the project, I’ve been overseeing and reviewing all the work done by the other contributors to the project. In general, I continue to be responsible for: reviewing and merging all pull requests to the project; setting up and maintaining CI for the project; coordinating with the website project on content uploaded to AWS buckets; build scripts to be reused by the release tools and previews; writing sections of the documentation that require technical knowledge; developing custom Boost/Antora extensions, such as the Boost Macro extension; maintaining the Antora toolchain and templates; and adjusted Boost libraries to match formats expected by the website. C++ Github Actions C++ Github Actions is a project I created and have been maintaining since Q3. It is a collection of compasable, independent, and reusable Github Actions for any C++ project that needs to be tested on a variety of compilers and environments. Both MrDocs are Boost.URL are currently using these actions in their CI. Boost.Http is now also using these actions in its CI, which gave us the opportunity to get more feedback and improve the actions. The project includes actions to: Generate a Github Actions Matrix for C++ projects; Setup C++ compilers; Install and setup packages; Clone Boost modules; Run complete CMake and b2 workflows; Generate changelogs from conventional commits; Generate summaries; and Generate time-trace reports and flame graphs In particular, a number of new features have been added to the project in Q4. The matrix has been adapted to include multiple extra flags and values over time. Actions that generate summaries included improvements and new sections. Actions can now identify many new types of warnings that should be emitted. CMake and B2 workflows included more options and features. The matrix new support composite factors, combinatorial factors, and custom containers. Documentation has been improved to also use the collector Antora extension. Besides new features, most work went into fixing issues that were revealed by testing the actions in new environments. About ~50 bugs with various levels of severity have been fixed in Q4." />
<meta property="og:description" content="Summary MrDocs Handlebars Boost Libraries Boost Release Tools Boost Website C++ Github Actions MrDocs Over the last quarter, we continued to work intensely on MrDocs, a documentation generator for C++ projects. I’ve been overseeing and reviewing all the work done by the other contributors in the project. Besides the work done by Krystian, Fernando also joined the project as a contributor. We’ve been working on making the project at least as competitive as Doxygen + Docca, so we can start using it in a subset of Boost libraries. In this process, we have also been improving usability and documentation, considering feedback we received. In particular, work in Q4 included: Improvements to the documentation, both in javadocs and exposition Reducing technical debt, including extending APIs and problems with handlebars templates Updating CI workflows in coordination with the C++ Github Actions project Usability improvements, including tools relative to installed executable and many new features for templates Fixes and improvements to installation procedure Features such as symbols with links to repositories and many new sections in templates Auxiliary utilities, such as a complete implementation of std::expected for the project Generating binaries for the new LLVM version and updating the documentation Improvements to build scripts with CMake presets and vcpkg manifest files In parallel, Boost.URL has integrated MrDocs, and is temporarily generating the documentation with both Doxygen+Docca and Antora+MrDocs. The documentation includes an extension to collect reference pages generated by MrDocs and include them in the Antora documentation. A preview of the documentation generated by MrDocs is available at https://792.urlantora.prtest2.cppalliance.org/site/url/index.html. In general, I’ve been responsible for: setting up and maintaining CI for the project; MrDocs and LLVM release binaries; build scripts; setting up and integrating dependencies; setting up and deploying the Antora toolchains and documentation to the project website; working on supporting libraries; and supervising and reviewing the work done by other contributors (Krystian and Fernando); fixing bugs. Handlebars MrDocs includes a support library that reimplements the Handlebars template engine in C++. This module is used to generate documentation from templates. This continued to be the MrDocs support library in which I have been investing most of my time. MrDocs also includes a support library called “DOM” that provides a C++ interface to type-erased property trees, such as JSON and Javascript Objects. This module is used by MrDocs to create opaque representations of property trees that can be used by the Handlebars engine and other library functions. Such representations can come from a variety of sources, including JSON files, Javascript objects, and internal C++ objects with information parsed by MrDocs. In Q4, a number of improvements relevant to MrDocs were made to the Handlebars and DOM libraries. The main feature is the addition of complete bindings for Javascript objects, arrays, and functions. The C++/JavaScript bindings work both ways, so that C++ objects can be used in Javascript and Javascript objects can be used in C++. Unit tests for the DOM were also included to complement the Handlebars unit tests. These changes enabled the original implementation of handlebars.js to be completely removed from the project. Boost Libraries As in other quarters, the Boost Library in which I have been investing most of my time is Boost.URL. The library is in maintenance mode since our focus shifted to MrDocs, but there is a constant demand for work fixing bugs and improving the documentation. In Q4, Boost.URL has integrated MrDocs, and is temporarily generating the documentation with both Doxygen+Docca and Antora+MrDocs: All the content in the QuickBook documentation has been rewritten in asciidoc format. Alternatives have been developed to replace special QuickBook features, such as snippets. The Boost.URL repository now includes an extension to automatically find or download MrDocs and use it to collect reference pages generated by MrDocs. The reference pages are aggregates as logical files in the Antora system, which includes them in the Antora documentation. A preview of the documentation generated by MrDocs is available at https://792.urlantora.prtest2.cppalliance.org/site/url/index.html. Besides the integration with MrDocs, work in Q4 included: Improvements, simplifications, and a number of extensions to CI Fixed previous design choices that were incompatible with the super-project Fixes to build scripts to support for more compilers Extended integration tests to cover all cases described by the super-project CMake scripts Fixes to algorithms, such as the parse_query and format functions GDB pretty printers are now provided Many improvements had to be coordinated with the C++ Github Actions project, which had new features implemented for these use cases. In general, I’ve been responsible for: upgrading CI, mostly coordinating with the C++ Github Actions; maintaining, simplifying, and updating build scripts; integrating more spec tests, such as the Ada tests included more recently; including more examples, such as the more recent sanitize-URL example; fixing documentation content that is out of date; and fixing bugs. Besides Boost.URL, as usual, I’ve been overseeing and fixing smaller issues with other boost libraries. In Q4, only some small work in Boost.StaticString was necessary. Boost Release Tools Over the last quarter, I’ve been working on the integration of toolchains I developed into the Boost Release Tools to add support for features desired for the new website. In Q3, I previously included Antora support in the release tools and this has already been deployed in the official Boost release 1.84.0. In Q4, I opened a pull request to include support for archive variants in the release tools. This pull request is currently under review and will be considered for inclusion in a period between Boost releases when priority moves from the Boost website. Boost Website Among the many support projects for the new Boost website, I’ve been helping the most on cppalliance/site-docs, which includes the Boost website documentation as an Antora project. Its components represent the “User Guide”, “Contributor Guide”, and “Formal Review” sections of the website. Since the inception of the project, I’ve been overseeing and reviewing all the work done by the other contributors to the project. In general, I continue to be responsible for: reviewing and merging all pull requests to the project; setting up and maintaining CI for the project; coordinating with the website project on content uploaded to AWS buckets; build scripts to be reused by the release tools and previews; writing sections of the documentation that require technical knowledge; developing custom Boost/Antora extensions, such as the Boost Macro extension; maintaining the Antora toolchain and templates; and adjusted Boost libraries to match formats expected by the website. C++ Github Actions C++ Github Actions is a project I created and have been maintaining since Q3. It is a collection of compasable, independent, and reusable Github Actions for any C++ project that needs to be tested on a variety of compilers and environments. Both MrDocs are Boost.URL are currently using these actions in their CI. Boost.Http is now also using these actions in its CI, which gave us the opportunity to get more feedback and improve the actions. The project includes actions to: Generate a Github Actions Matrix for C++ projects; Setup C++ compilers; Install and setup packages; Clone Boost modules; Run complete CMake and b2 workflows; Generate changelogs from conventional commits; Generate summaries; and Generate time-trace reports and flame graphs In particular, a number of new features have been added to the project in Q4. The matrix has been adapted to include multiple extra flags and values over time. Actions that generate summaries included improvements and new sections. Actions can now identify many new types of warnings that should be emitted. CMake and B2 workflows included more options and features. The matrix new support composite factors, combinatorial factors, and custom containers. Documentation has been improved to also use the collector Antora extension. Besides new features, most work went into fixing issues that were revealed by testing the actions in new environments. About ~50 bugs with various levels of severity have been fixed in Q4." />
<link rel="canonical" href="http://cppalliance.org/alan/2024/01/12/AlanQ4Update.html" />
<meta property="og:url" content="http://cppalliance.org/alan/2024/01/12/AlanQ4Update.html" />
<meta property="og:site_name" content="The C++ Alliance" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-01-12T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Owning Handlebars: Custom Templates for Boost.URL" />
<meta name="twitter:site" content="@CPPAlliance" />
<script type="application/ld+json">
{"description":"Summary MrDocs Handlebars Boost Libraries Boost Release Tools Boost Website C++ Github Actions MrDocs Over the last quarter, we continued to work intensely on MrDocs, a documentation generator for C++ projects. I’ve been overseeing and reviewing all the work done by the other contributors in the project. Besides the work done by Krystian, Fernando also joined the project as a contributor. We’ve been working on making the project at least as competitive as Doxygen + Docca, so we can start using it in a subset of Boost libraries. In this process, we have also been improving usability and documentation, considering feedback we received. In particular, work in Q4 included: Improvements to the documentation, both in javadocs and exposition Reducing technical debt, including extending APIs and problems with handlebars templates Updating CI workflows in coordination with the C++ Github Actions project Usability improvements, including tools relative to installed executable and many new features for templates Fixes and improvements to installation procedure Features such as symbols with links to repositories and many new sections in templates Auxiliary utilities, such as a complete implementation of std::expected for the project Generating binaries for the new LLVM version and updating the documentation Improvements to build scripts with CMake presets and vcpkg manifest files In parallel, Boost.URL has integrated MrDocs, and is temporarily generating the documentation with both Doxygen+Docca and Antora+MrDocs. The documentation includes an extension to collect reference pages generated by MrDocs and include them in the Antora documentation. A preview of the documentation generated by MrDocs is available at https://792.urlantora.prtest2.cppalliance.org/site/url/index.html. In general, I’ve been responsible for: setting up and maintaining CI for the project; MrDocs and LLVM release binaries; build scripts; setting up and integrating dependencies; setting up and deploying the Antora toolchains and documentation to the project website; working on supporting libraries; and supervising and reviewing the work done by other contributors (Krystian and Fernando); fixing bugs. Handlebars MrDocs includes a support library that reimplements the Handlebars template engine in C++. This module is used to generate documentation from templates. This continued to be the MrDocs support library in which I have been investing most of my time. MrDocs also includes a support library called “DOM” that provides a C++ interface to type-erased property trees, such as JSON and Javascript Objects. This module is used by MrDocs to create opaque representations of property trees that can be used by the Handlebars engine and other library functions. Such representations can come from a variety of sources, including JSON files, Javascript objects, and internal C++ objects with information parsed by MrDocs. In Q4, a number of improvements relevant to MrDocs were made to the Handlebars and DOM libraries. The main feature is the addition of complete bindings for Javascript objects, arrays, and functions. The C++/JavaScript bindings work both ways, so that C++ objects can be used in Javascript and Javascript objects can be used in C++. Unit tests for the DOM were also included to complement the Handlebars unit tests. These changes enabled the original implementation of handlebars.js to be completely removed from the project. Boost Libraries As in other quarters, the Boost Library in which I have been investing most of my time is Boost.URL. The library is in maintenance mode since our focus shifted to MrDocs, but there is a constant demand for work fixing bugs and improving the documentation. In Q4, Boost.URL has integrated MrDocs, and is temporarily generating the documentation with both Doxygen+Docca and Antora+MrDocs: All the content in the QuickBook documentation has been rewritten in asciidoc format. Alternatives have been developed to replace special QuickBook features, such as snippets. The Boost.URL repository now includes an extension to automatically find or download MrDocs and use it to collect reference pages generated by MrDocs. The reference pages are aggregates as logical files in the Antora system, which includes them in the Antora documentation. A preview of the documentation generated by MrDocs is available at https://792.urlantora.prtest2.cppalliance.org/site/url/index.html. Besides the integration with MrDocs, work in Q4 included: Improvements, simplifications, and a number of extensions to CI Fixed previous design choices that were incompatible with the super-project Fixes to build scripts to support for more compilers Extended integration tests to cover all cases described by the super-project CMake scripts Fixes to algorithms, such as the parse_query and format functions GDB pretty printers are now provided Many improvements had to be coordinated with the C++ Github Actions project, which had new features implemented for these use cases. In general, I’ve been responsible for: upgrading CI, mostly coordinating with the C++ Github Actions; maintaining, simplifying, and updating build scripts; integrating more spec tests, such as the Ada tests included more recently; including more examples, such as the more recent sanitize-URL example; fixing documentation content that is out of date; and fixing bugs. Besides Boost.URL, as usual, I’ve been overseeing and fixing smaller issues with other boost libraries. In Q4, only some small work in Boost.StaticString was necessary. Boost Release Tools Over the last quarter, I’ve been working on the integration of toolchains I developed into the Boost Release Tools to add support for features desired for the new website. In Q3, I previously included Antora support in the release tools and this has already been deployed in the official Boost release 1.84.0. In Q4, I opened a pull request to include support for archive variants in the release tools. This pull request is currently under review and will be considered for inclusion in a period between Boost releases when priority moves from the Boost website. Boost Website Among the many support projects for the new Boost website, I’ve been helping the most on cppalliance/site-docs, which includes the Boost website documentation as an Antora project. Its components represent the “User Guide”, “Contributor Guide”, and “Formal Review” sections of the website. Since the inception of the project, I’ve been overseeing and reviewing all the work done by the other contributors to the project. In general, I continue to be responsible for: reviewing and merging all pull requests to the project; setting up and maintaining CI for the project; coordinating with the website project on content uploaded to AWS buckets; build scripts to be reused by the release tools and previews; writing sections of the documentation that require technical knowledge; developing custom Boost/Antora extensions, such as the Boost Macro extension; maintaining the Antora toolchain and templates; and adjusted Boost libraries to match formats expected by the website. C++ Github Actions C++ Github Actions is a project I created and have been maintaining since Q3. It is a collection of compasable, independent, and reusable Github Actions for any C++ project that needs to be tested on a variety of compilers and environments. Both MrDocs are Boost.URL are currently using these actions in their CI. Boost.Http is now also using these actions in its CI, which gave us the opportunity to get more feedback and improve the actions. The project includes actions to: Generate a Github Actions Matrix for C++ projects; Setup C++ compilers; Install and setup packages; Clone Boost modules; Run complete CMake and b2 workflows; Generate changelogs from conventional commits; Generate summaries; and Generate time-trace reports and flame graphs In particular, a number of new features have been added to the project in Q4. The matrix has been adapted to include multiple extra flags and values over time. Actions that generate summaries included improvements and new sections. Actions can now identify many new types of warnings that should be emitted. CMake and B2 workflows included more options and features. The matrix new support composite factors, combinatorial factors, and custom containers. Documentation has been improved to also use the collector Antora extension. Besides new features, most work went into fixing issues that were revealed by testing the actions in new environments. About ~50 bugs with various levels of severity have been fixed in Q4.","@type":"BlogPosting","url":"http://cppalliance.org/alan/2024/01/12/AlanQ4Update.html","headline":"Owning Handlebars: Custom Templates for Boost.URL","dateModified":"2024-01-12T00:00:00+00:00","datePublished":"2024-01-12T00:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://cppalliance.org/alan/2024/01/12/AlanQ4Update.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->



<link href="/css/prism.css" rel="stylesheet">


<link href='/feed.xml' rel='alternate' type='application/atom+xml'>

<!-- Twitter Card Start -->




  
    <meta name="twitter:image" content="https://cppalliance.org/images/logo.png">
  

<!-- Twitter Card End -->

<script defer data-domain="cppalliance.org" src="https://plausible.io/js/script.js"></script>

</head>

<body id='body' class="line-numbers">

  <!-- Navigation -->
  <nav class='nav dark'>
    <a href='/'>
      <img class='logo' alt='cpp-alliance-logo' src='/images/logo.svg' />
    </a>
    <div class='hamburger' id='nav-hamburger'>
      <span class='hamburger-line'></span>
      <span class='hamburger-line'></span>
      <span class='hamburger-line'></span>
    </div>
    <div class='nav-items' id='nav-items'>
      <div class="nav-item"><a class="nav-link nav-link-mobile" href="/">Home</a></div>
      <div class="nav-item"><a class="nav-link nav-link-mobile" href="/#mission">Mission</a></div>
      <div class="nav-item"><a class="nav-link nav-link-mobile" href="/#team">Team</a></div>
      <div class="nav-item"><a class="nav-link nav-link-mobile" href="/#news">News</a></div>
      <div class="nav-item"><a class="nav-link nav-link-mobile" href="/#links">Links</a></div>
      <div class="nav-item"><a class="nav-link nav-link-mobile" href="/#faq">FAQ</a></div>
      <div class="nav-item"><a class="nav-link nav-link-mobile" href="/#contact">Contact</a></div>
      <div class='socials'>
        <div class='connect-content'>
          <div class='row row-sm'>
            <div class='col-fourth col-fourth-sm social-link'>
              <a class='social-icon nav-link-mobile' href="https://github.com/CPPAlliance">
                <div class='social-icon-img-wrapper'>
                  <img class='social-icon-img github' alt='github-logo' src='/images/icons/github.svg' />
                </div>
                <span class='social-icon-text'>GitHub</span>
              </a>
            </div>
            <div class='col-fourth col-fourth-sm social-link'>
              <a class='social-icon nav-link-mobile' href="https://www.facebook.com/CPPAlliance/">
                <div class='social-icon-img-wrapper'>
                  <img class='social-icon-img facebook' alt='facebook-logo' src='/images/icons/facebook.svg' />
                </div>
                <span class='social-icon-text'>Facebook</span>
              </a>
            </div>
            <div class='col-fourth col-fourth-sm social-link'>
              <a class='social-icon nav-link-mobile' href="https://x.com/cppalliance">
                <div class='social-icon-img-wrapper'>
                  <img class='social-icon-img twitter' alt='x-logo' src='/images/icons/twitter.svg' />
                </div>
                <span class='social-icon-text'>X</span>
              </a>
            </div>
            <div class='col-fourth col-fourth-sm social-link'>
              <a class='social-icon nav-link-mobile' href="https://www.linkedin.com/in/cppalliance/">
                <div class='social-icon-img-wrapper'>
                  <img class='social-icon-img linkedin' alt='linkedin-logo' src='/images/icons/linkedin.svg' />
                </div>
                <span class='social-icon-text'>LinkedIn</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </nav>






  <div class='post'>
  <div class='current-article'>
    

    <section class='section article'>
      

      <article>
      <div class="title-section center">
        <h2 class='text-l news-title no-border'>Owning Handlebars: Custom Templates for Boost.URL</h2>
        
        
                
                
                
                  
                
                  
                
                  
                
                  
                    
                    
        

        

        
          <div class='author d-iblock'>
            <a class='link author-img-link' href="/people/alan">
              <img class='author-img' src='/images/people/alan.jpg' alt='Portrait of Alan de Freitas' />
            </a>
            <span class='text-xxs author-name'>
                <a class='link' href="/people/alan">
                  Alan de Freitas
                </a> &middot; Jan 12, 2024
            </span>
          </div>
        
      </div>
        <div class='text-xxs content-text generated-content'>
          <h1 id="summary">Summary</h1>

<ul>
  <li><a href="#mrdocs">MrDocs</a></li>
  <li><a href="#handlebars">Handlebars</a></li>
  <li><a href="#boost-libraries">Boost Libraries</a></li>
  <li><a href="#boost-release-tools">Boost Release Tools</a></li>
  <li><a href="#boost-website">Boost Website</a></li>
  <li><a href="#c-github-actions">C++ Github Actions</a></li>
</ul>

<h2 id="mrdocs">MrDocs</h2>

<p>Over the last quarter, we continued to work intensely on <a href="https://github.com/cppalliance/mrdocs">MrDocs</a>, a
documentation generator for C++ projects. I’ve been overseeing and reviewing all the work done by the other contributors
in the project. Besides the work done by Krystian, Fernando also joined the project as a contributor.</p>

<p>We’ve been working on making the project at least as competitive as Doxygen + Docca, so we can start using it in a
subset of Boost libraries. In this process, we have also been improving usability and documentation, considering
feedback we received.</p>

<p>In particular, work in Q4 included:</p>

<ul>
  <li>Improvements to the documentation, both in javadocs and exposition</li>
  <li>Reducing technical debt, including extending APIs and problems with handlebars templates</li>
  <li>Updating CI workflows in coordination with the <a href="#c-github-actions">C++ Github Actions</a> project</li>
  <li>Usability improvements, including tools relative to installed executable and many new features for templates</li>
  <li>Fixes and improvements to installation procedure</li>
  <li>Features such as symbols with links to repositories and many new sections in templates</li>
  <li>Auxiliary utilities, such as a complete implementation of <code>std::expected</code> for the project</li>
  <li>Generating binaries for the new LLVM version and updating the documentation</li>
  <li>Improvements to build scripts with CMake presets and vcpkg manifest files</li>
</ul>

<p>In parallel, Boost.URL has integrated MrDocs, and is temporarily generating the documentation with both
Doxygen+Docca and Antora+MrDocs. The documentation includes an extension to collect reference pages
generated by MrDocs and include them in the Antora documentation. A preview of the documentation
generated by MrDocs is available at https://792.urlantora.prtest2.cppalliance.org/site/url/index.html.</p>

<p>In general, I’ve been responsible for:</p>

<ul>
  <li>setting up and maintaining CI for the project;</li>
  <li>MrDocs and LLVM release binaries;</li>
  <li>build scripts;</li>
  <li>setting up and integrating dependencies;</li>
  <li>setting up and deploying the Antora toolchains and documentation to the project website;</li>
  <li>working on supporting libraries; and</li>
  <li>supervising and reviewing the work done by other contributors (Krystian and Fernando);</li>
  <li>fixing bugs.</li>
</ul>

<h2 id="handlebars">Handlebars</h2>

<p>MrDocs includes a support library that reimplements the <a href="https://handlebarsjs.com/">Handlebars</a> template engine in C++.
This module is used to generate documentation from templates. This continued to be the MrDocs support
library in which I have been investing most of my time.</p>

<p>MrDocs also includes a support library called “DOM” that provides a C++ interface to type-erased property trees, such as
JSON and Javascript Objects. This module is used by MrDocs to create opaque representations of property trees that can
be used by the Handlebars engine and other library functions. Such representations can come from a variety of sources,
including JSON files, Javascript objects, and internal C++ objects with information parsed by MrDocs.</p>

<p>In Q4, a number of improvements relevant to MrDocs were made to the Handlebars and DOM libraries. The main
feature is the addition of complete bindings for Javascript objects, arrays, and functions. The C++/JavaScript
bindings work both ways, so that C++ objects can be used in Javascript and Javascript objects can be used in C++.
Unit tests for the DOM were also included to complement the Handlebars unit tests.</p>

<p>These changes enabled the original implementation of handlebars.js to be completely removed from the project.</p>

<h2 id="boost-libraries">Boost Libraries</h2>

<p>As in other quarters, the Boost Library in which I have been investing most of my time
is <a href="https://github.com/boostorg/url">Boost.URL</a>. The library is in maintenance mode since our focus shifted to MrDocs,
but there is a constant demand for work fixing bugs and improving the documentation.</p>

<p>In Q4, Boost.URL has integrated MrDocs, and is temporarily generating the documentation with both
Doxygen+Docca and Antora+MrDocs:</p>

<ul>
  <li>All the content in the QuickBook documentation has been rewritten in asciidoc format. Alternatives have been
developed to replace special QuickBook features, such as snippets.</li>
  <li>The Boost.URL repository now includes an extension to automatically find or
download MrDocs and use it to collect reference pages generated by MrDocs. The reference pages are aggregates
as logical files in the Antora system, which includes them in the Antora documentation.</li>
</ul>

<p>A preview of the documentation generated by MrDocs is available
at https://792.urlantora.prtest2.cppalliance.org/site/url/index.html.</p>

<p>Besides the integration with MrDocs, work in Q4 included:</p>

<ul>
  <li>Improvements, simplifications, and a number of extensions to CI</li>
  <li>Fixed previous design choices that were incompatible with the super-project</li>
  <li>Fixes to build scripts to support for more compilers</li>
  <li>Extended integration tests to cover all cases described by the super-project CMake scripts</li>
  <li>Fixes to algorithms, such as the <code>parse_query</code> and <code>format</code> functions</li>
  <li>GDB pretty printers are now provided</li>
</ul>

<p>Many improvements had to be coordinated with the <a href="#c-github-actions">C++ Github Actions</a> project, which had new
features implemented for these use cases.</p>

<p>In general, I’ve been responsible for:</p>

<ul>
  <li>upgrading CI, mostly coordinating with the <a href="#c-github-actions">C++ Github Actions</a>;</li>
  <li>maintaining, simplifying, and updating build scripts;</li>
  <li>integrating more spec tests, such as the Ada tests included more recently;</li>
  <li>including more examples, such as the more recent sanitize-URL example;</li>
  <li>fixing documentation content that is out of date; and</li>
  <li>fixing bugs.</li>
</ul>

<p>Besides Boost.URL, as usual, I’ve been overseeing and fixing smaller issues with other boost libraries. In Q4,
only some small work in Boost.StaticString was necessary.</p>

<h2 id="boost-release-tools">Boost Release Tools</h2>

<p>Over the last quarter, I’ve been working on the integration of toolchains I developed into the Boost Release Tools to
add support for features desired for the new website. In Q3, I previously included Antora support in the release tools
and this has already been deployed in the official Boost release 1.84.0.</p>

<p>In Q4, I opened a pull request to include support for archive variants in the release tools. This pull request is
currently under review and will be considered for inclusion in a period between Boost releases when priority
moves from the <a href="#boost-website">Boost website</a>.</p>

<h2 id="boost-website">Boost Website</h2>

<p>Among the many support projects for the new Boost website, I’ve been helping the most on
<a href="https://github.com/cppalliance/site-docs"><code>cppalliance/site-docs</code></a>, which includes the Boost website documentation as
an Antora project.
Its components represent the “User Guide”, “Contributor Guide”, and “Formal Review” sections of the website.</p>

<p>Since the inception of the project, I’ve been overseeing and reviewing all the work done by the other contributors to
the project.</p>

<p>In general, I continue to be responsible for:</p>

<ul>
  <li>reviewing and merging all pull requests to the project;</li>
  <li>setting up and maintaining CI for the project;</li>
  <li>coordinating with the website project on content uploaded to AWS buckets;</li>
  <li>build scripts to be reused by the release tools and previews;</li>
  <li>writing sections of the documentation that require technical knowledge;</li>
  <li>developing custom Boost/Antora extensions, such as the Boost Macro extension;</li>
  <li>maintaining the Antora toolchain and templates; and</li>
  <li>adjusted Boost libraries to match formats expected by the website.</li>
</ul>

<h2 id="c-github-actions">C++ Github Actions</h2>

<p><a href="https://github.com/alandefreitas/cpp-actions">C++ Github Actions</a> is a project I created and have been maintaining
since Q3. It is a collection of compasable, independent, and reusable Github Actions for any C++ project that needs to
be tested on a variety of compilers and environments.</p>

<p>Both MrDocs are Boost.URL are currently using these actions in their CI. Boost.Http is now also using these actions
in its CI, which gave us the opportunity to get more feedback and improve the actions.</p>

<p>The project includes actions to:</p>

<ul>
  <li>Generate a Github Actions Matrix for C++ projects;</li>
  <li>Setup C++ compilers;</li>
  <li>Install and setup packages;</li>
  <li>Clone Boost modules;</li>
  <li>Run complete CMake and <code>b2</code> workflows;</li>
  <li>Generate changelogs from conventional commits;</li>
  <li>Generate summaries; and</li>
  <li>Generate time-trace reports and flame graphs</li>
</ul>

<p>In particular, a number of new features have been added to the project in Q4.</p>

<ul>
  <li>The matrix has been adapted to include multiple extra flags and values over time.</li>
  <li>Actions that generate summaries included improvements and new sections.</li>
  <li>Actions can now identify many new types of warnings that should be emitted.</li>
  <li>CMake and B2 workflows included more options and features.</li>
  <li>The matrix new support composite factors, combinatorial factors, and custom containers.</li>
  <li>Documentation has been improved to also use the collector Antora extension.</li>
</ul>

<p>Besides new features, most work went into fixing issues that were revealed by testing the actions in new environments.
About ~50 bugs with various levels of severity have been fixed in Q4.</p>

        </div>
      </article>
    </section>
  </div>

  <section class="section news bottom-layout" id='news'>
    <div class='section-title'>
      <h2 class='header text-xl recent-post-header'>All Posts by This Author</h2>
    </div>
    <div class='news-content formatted-text'>
      <ul>
        
        
        
        
        
        
        
        
        
        
        <li class='news-list-item '>
          <span class='text-xs news-date'>10/28/2025</span>
          <a class='text-l news-title link' href="/alan/2025/10/28/Alan.html">From Prototype to Product: MrDocs in 2025</a>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li class='news-list-item '>
          <span class='text-xs news-date'>07/10/2025</span>
          <a class='text-l news-title link' href="/alan/2025/07/10/Alan.html">Bringing B2-Style Test Granularity to CMake</a>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li class='news-list-item '>
          <span class='text-xs news-date'>01/10/2025</span>
          <a class='text-l news-title link' href="/alan/2025/01/10/AlanQ4Update.html">Scaling Documentation Pipelines Across Boost Projects</a>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li class='news-list-item '>
          <span class='text-xs news-date'>07/13/2024</span>
          <a class='text-l news-title link' href="/alan/2024/07/13/AlanQ2Update.html">Operationalizing MrDocs Reference for the Boost Release Workflow</a>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li class='news-list-item '>
          <span class='text-xs news-date'>05/07/2024</span>
          <a class='text-l news-title link' href="/alan/2024/05/07/AlanQ1Update.html">Making MrDocs Portable for Every Toolchain</a>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li class='news-list-item '>
          <span class='text-xs news-date'>01/12/2024</span>
          <a class='text-l news-title link' href="/alan/2024/01/12/AlanQ4Update.html">Owning Handlebars: Custom Templates for Boost.URL</a>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li class='news-list-item '>
          <span class='text-xs news-date'>10/27/2023</span>
          <a class='text-l news-title link' href="/alan/2023/10/27/AlanQ3Update.html">Building the MrDocs Reference Pipeline for Antora</a>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li>
          <a class='text-l all link' href="/news">View All Posts...</a>
        </li>
      </ul>
    </div>
  </section>

</div>


  <footer class='footer'>
    <p class='text-xxs footer-text'>
      <span class='line'>&copy; 2024 The C Plus Plus Alliance, Inc.</span>
      <span class='line'>Contact us at: <a href='mailto:%69%6E%66%6F@%63%70%70%61%6C%6C%69%61%6E%63%65.%6F%72%67'>info@cppalliance.org</a></span>
    </p>
  </footer>

  <!-- Bootstrap core JavaScript -->
  <script src='/js/main.js'></script>
  
  <script src='/js/prism.js'></script>
  

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-76438364-18', 'auto');
    ga('send', 'pageview');
  </script>

</body>
</html>
